!function(){"use strict";function e(){var e=this;e.allowClear=!0,e.backButtonText="Back",e.inputDateFormat="LL",e.maxYear=2020,e.minYear=1920,e.locale="en",e.popupDateFormat="ddd, MMM D",e.showInputIcon=!1,e.calendarIcon="/dist/images/icons/ic_today_24px.svg",e.clearIcon="/dist/images/icons/ic_close_24px.svg",e.nextIcon="/dist/images/icons/ic_chevron_right_18px.svg",e.prevIcon="/dist/images/icons/ic_chevron_left_18px.svg",e.setIcons=function(t){for(var n in t)e[n]=t[n]},e.setOptions=function(t){for(var n in t)e[n]=t[n]},this.$get=function(n,a){return new t(e,n,a)},this.$get.$inject=["$mdDialog","$q"]}function t(e,t,n){function a(e,t,n){Object.defineProperty(e,t,{__proto__:null,get:function(){return n}})}var o=["allowClear","backButtonText","cancelButton","showInputIcon","inputLabel","maxDate","minDate","maxYear","minYear","locale","inputDateFormat","popupDateFormat","todayButton","calendarIcon","prevIcon","nextIcon","clearIcon"];for(var m in o)a(this,o[m],e[o[m]])}function n(){return{restrict:"AE",templateUrl:"am-date-picker.html",require:["ngModel","amDatePicker"],scope:{allowClear:"=?amAllowClear",cancelButton:"@?amCancelButton",inputDateFormat:"@?amInputDateFormat",inputLabel:"@?amInputLabel",maxDate:"=?amMaxDate",minDate:"=?amMinDate",maxYear:"=?amMaxYear",minYear:"=?amMinYear",popupDateFormat:"@?amPopupDateFormat",showInputIcon:"=?amShowInputIcon",todayButton:"@?amTodayButton"},link:function(e,t,n,a){var o=a[0],m=a[1];m.configureNgModel(o)},controller:a,controllerAs:"amDatePicker",bindToController:!0,replace:!0}}function a(e,t,n,a){function o(){for(var e=["allowClear","backButtonText","cancelButton","showInputIcon","inputLabel","maxDate","minDate","maxYear","minYear","locale","inputDateFormat","popupDateFormat","todayButton","calendarIcon","prevIcon","nextIcon","clearIcon"],t=0;t<e.length;t++)a.hasOwnProperty(e[t])&&(angular.isDefined(v[e[t]])||(v[e[t]]=a[e[t]]));v.moment.locale(v.locale),v.modelMomentSelected=angular.isDefined(v.model)?moment(angular.copy(v.model)):moment(),v.modelMoment=angular.copy(v.modelMomentSelected),v.modelMomentFormatted=angular.isDefined(v.model)?moment(v.model).format(v.inputDateFormat):void 0,v.days=[],v.daysOfWeek=[moment.weekdaysMin(1),moment.weekdaysMin(2),moment.weekdaysMin(3),moment.weekdaysMin(4),moment.weekdaysMin(5),moment.weekdaysMin(6),moment.weekdaysMin(0)],v.years=[];for(var n=v.minYear||1920,o=v.maxYear||2020,m=n;o>=m;m++)v.years.push(m);c()}function m(){v.ngModelCtrl.$setViewValue(void 0),v.model=void 0,v.modelMomentFormatted=void 0,c()}function i(e){v.ngModelCtrl=e,e.$render=function(){v.model=v.ngModelCtrl.$viewValue,o()}}function l(){function e(){v.modelMomentSelected=o,n.cancel()}function t(){n.hide()}var a=this,o=angular.copy(v.modelMomentSelected);a.cancel=e,a.hide=t}function r(){v.yearSelection=!0,t(function(){var e=angular.element(document.querySelector(".am-date-picker__year-selector")),t=angular.element(document.querySelector(".am-date-picker__year--is-active")),n=t[0].getElementsByTagName("p")[0].offsetHeight;e[0].scrollTop=t[0].offsetTop-e[0].offsetTop-e[0].clientHeight/2+n/2})}function c(){v.days=[],v.emptyFirstDays=[];for(var e=angular.copy(v.modelMoment).date(0),t=angular.copy(v.modelMoment).date(1),n=angular.copy(t).endOf("month"),a=angular.copy(n).date(),o=0===t.day()?6:t.day()-1;o>0;o--)v.emptyFirstDays.push({});for(var m=0;a>m;m++){var i=angular.copy(e.add(1,"days"));i.selected=angular.isDefined(v.modelMomentSelected)&&i.isSame(v.modelMomentSelected,"day"),i.today=i.isSame(moment(),"day"),angular.isDefined(v.minDate)&&i.toDate()<v.minDate&&(i.disabled=!0),angular.isDefined(v.maxDate)&&i.toDate()>v.maxDate&&(i.disabled=!0),v.days.push(i)}v.isTodayDisabled=angular.isDefined(v.minDate)&&moment().toDate()<v.minDate||angular.isDefined(v.maxDate)&&moment().toDate()>v.maxDate}function d(){v.yearSelection=!1}function u(){v.modelMoment.add(1,"month"),c(),s()}function s(){v.monthChanged=!1,v.next=!0,t(function(){v.monthChanged=!0},x)}function p(t){n.show({controller:l,controllerAs:"dialog",onRemoving:d,scope:e.$new(),targetEvent:t,templateUrl:"am-date-picker_content.tmpl.html"}).then(function(){M()})}function f(){v.next=!1,v.monthChanged=!1,t(function(){v.monthChanged=!0},x)}function g(){v.modelMoment.subtract(1,"month"),c(),f()}function D(){v.yearSelection&&v.hideYearSelection(),v.select(moment())}function y(e){e.disabled||(v.modelMomentSelected=angular.copy(e),v.modelMoment=angular.copy(e),c())}function h(e){v.hideYearSelection(),v.modelMoment.year(e),c()}function M(){v.model=v.modelMomentSelected.toDate(),v.ngModelCtrl.$setViewValue(v.model),v.modelMomentFormatted=v.modelMomentSelected.format(v.inputDateFormat)}var v=this;v.clearDate=m,v.configureNgModel=i,v.displayYearSelection=r,v.hideYearSelection=d,v.previousMonth=g,v.nextMonth=u,v.select=y,v.selectYear=h,v.openPicker=p,v.today=D,v.moment=moment,v.isTodayDisabled=!1,v.yearSelection=!1,v.monthChanged=!0,v.ngModelCtrl=null,v.model=null;var x=110;o(),e.$watch("amDatePicker.minDate",function(e,t){v.model&&e>v.model&&(v.select(moment(e)),M()),c()}),e.$watch("amDatePicker.maxDate",function(e,t){v.model&&e<v.model&&(v.select(moment(e)),M()),c()})}angular.module("am.date-picker",["ngMaterial","ngAnimate"]).directive("amDatePicker",n).provider("amDatePickerConfig",e),a.$inject=["$scope","$timeout","$mdDialog","amDatePickerConfig"]}();
angular.module("am.date-picker").run(["$templateCache",function(e){e.put("am-date-picker.html",'<div style="outline-style: none;">\n    <!-- Date picker input -->\n    <div>\n        <md-input-container class="md-icon-float md-icon-right">\n            <label>{{ amDatePicker.inputLabel }}</label>\n            <md-icon ng-show="amDatePicker.showInputIcon"\n                     md-svg-icon="{{ amDatePicker.calendarIcon }}"\n                     class="am-date-picker__calendar-icon"></md-icon>\n            <input ng-model="amDatePicker.modelMomentFormatted"\n                   ng-click="amDatePicker.openPicker($event)"\n                   class="am-date-picker__input"\n                   type="text"\n                   readonly="readonly">\n            <md-icon ng-show="amDatePicker.allowClear"\n                     ng-click="amDatePicker.clearDate()"\n                     md-svg-icon="{{ amDatePicker.clearIcon }}"\n                     class="am-date-picker__clear-icon"></md-icon>\n        </md-input-container>\n    </div>\n\n\n<script type="text/ng-template" id="am-date-picker_content.tmpl.html">\n    <md-dialog class="am-date-picker__container" aria-label="Datepicker Content" ng-cloak>\n    <div layout="column">\n\n        <!-- Current date -->\n        <div layout-align="center" class="am-date-picker__header-current-date">\n            <p>{{ amDatePicker.moment(amDatePicker.modelMomentSelected).format(\'YYYY\') }}</p>\n            <h2>{{ amDatePicker.moment(amDatePicker.modelMomentSelected).format(amDatePicker.popupDateFormat) }}</h2>\n        </div>\n\n    </div>\n\n    <!-- Date picker: content -->\n    <div ng-hide="amDatePicker.yearSelection" class="am-date-picker__content am-date-picker__animate-year-selection">\n        <div layout="row" layout-align="space-between center" class="am-date-picker__month-year">\n            <md-button ng-click="amDatePicker.previousMonth()"\n                       class="md-icon-button">\n                <md-icon aria-label="Prev"\n                         class="am-date-picker__chevron"\n                         md-svg-icon="{{ amDatePicker.prevIcon }}"></md-icon>\n\n            </md-button>\n\n            <md-button ng-click="amDatePicker.displayYearSelection()"\n                       class="am-date-picker__month-year">\n                {{ amDatePicker.modelMoment.format(\'MMMM YYYY\') }}\n            </md-button>\n\n             <md-button ng-click="amDatePicker.nextMonth()"\n                        class="md-icon-button">\n                <md-icon aria-label="Next"\n                         class="am-date-picker__chevron"\n                         md-svg-icon="{{ amDatePicker.nextIcon }}"></md-icon>\n            </md-button>\n        </div>\n\n        <!-- Calendar -->\n        <div class="am-date-picker__calendar am-date-picker__animate-month-change"\n             ng-class="{\'next\': amDatePicker.next,\n                        \'prev\': !amDatePicker.next}"\n             ng-if="amDatePicker.monthChanged">\n\n            <!-- Weekdays -->\n            <div style="padding-left: 12px; padding-right: 20px;" layout layout-align="space-between">\n                <span ng-repeat="day in amDatePicker.daysOfWeek"\n                      class="am-date-picker__weekdays">\n                    {{ day }}\n                </span>\n            </div>\n\n            <!-- Days -->\n            <span ng-repeat="x in amDatePicker.emptyFirstDays"\n                  class="am-date-picker__days">&nbsp;</span>\n\n            <div class="am-date-picker__days am-date-picker__day"\n                 ng-class="{ \'am-date-picker__day--is-selected\': day.selected,\n                             \'am-date-picker__day--is-today\': day.today && !day.selected,\n                             \'am-date-picker__day--is-disabled\': day.disabled }"\n                 ng-repeat="day in amDatePicker.days">\n                <a ng-click="amDatePicker.select(day)">{{ day ? day.format(\'D\') : \'\' }}</a>\n            </div>\n\n        </div>\n    </div>\n\n    <!-- Year selection -->\n    <div class="am-date-picker__year-selector am-date-picker__animate-year-selection"\n         ng-show="amDatePicker.yearSelection">\n        <a class="am-date-picker__year"\n           ng-repeat="year in amDatePicker.years"\n           ng-class="{ \'am-date-picker__year--is-active\':\n                        year == amDatePicker.moment(amDatePicker.modelMomentSelected).format(\'YYYY\') }"\n           ng-click="amDatePicker.selectYear(year)">\n            <p>{{ year }}</p>\n        </a>\n    </div>\n\n    <!--Actions-->\n    <md-dialog-actions layout="row" class="md-actions am-date-picker__actions">\n        <md-button ng-click="amDatePicker.today()"\n                   ng-disabled="amDatePicker.isTodayDisabled"\n                   ng-if="amDatePicker.todayButton">\n            {{ amDatePicker.todayButton }}\n        </md-button>\n        <span flex></span>\n        <div ng-if="!amDatePicker.yearSelection">\n            <md-button ng-click="dialog.cancel()"\n                       ng-if="amDatePicker.cancelButton">\n                {{ amDatePicker.cancelButton }}\n            </md-button>\n            <md-button ng-click="dialog.hide()">OK</md-button>\n        </div>\n        <md-button ng-click="amDatePicker.hideYearSelection()"\n                   ng-if="amDatePicker.yearSelection">{{ amDatePicker.backButtonText }}</md-button>\n    </md-dialog-actions>\n    </md-dialog>\n</script>\n\n</div>\n')}]);
//# sourceMappingURL=am-date-picker.min.js.map
