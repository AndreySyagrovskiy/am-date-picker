!function(){"use strict";function e(){var e=this;e.allowClear=!0,e.backButtonText="Back",e.inputDateFormat="LL",e.maxYear=2020,e.minYear=1920,e.locale="en",e.popupDateFormat="ddd, MMM D",e.showInputIcon=!1,e.calendarIcon="/dist/images/icons/ic_today_24px.svg",e.clearIcon="/dist/images/icons/ic_close_24px.svg",e.nextIcon="/dist/images/icons/ic_chevron_right_18px.svg",e.prevIcon="/dist/images/icons/ic_chevron_left_18px.svg",e.setIcons=function(t){for(var a in t)e[a]=t[a]},e.setOptions=function(t){for(var a in t)e[a]=t[a]},this.$get=function(){return new t(e)}}function t(e){function t(e,t,a){Object.defineProperty(e,t,{__proto__:null,get:function(){return a}})}var a=["allowClear","backButtonText","cancelButton","inputLabel","maxDate","minDate","maxYear","minYear","locale","inputDateFormat","popupDateFormat","showInputIcon","todayButton","calendarIcon","prevIcon","nextIcon","clearIcon"];for(var n in a)t(this,a[n],e[a[n]])}function a(){return{restrict:"AE",templateUrl:"am-date-picker.html",require:["ngModel","amDatePicker"],scope:{allowClear:"=?amAllowClear",backButtonText:"@?amBackButtonText",cancelButton:"@?amCancelButton",inputDateFormat:"@?amInputDateFormat",inputLabel:"@?amInputLabel",locale:"@?amLocale",maxDate:"=?amMaxDate",minDate:"=?amMinDate",maxYear:"=?amMaxYear",minYear:"=?amMinYear",popupDateFormat:"@?amPopupDateFormat",showInputIcon:"=?amShowInputIcon",todayButton:"@?amTodayButton"},link:function(e,t,a,n){var o=n[0],i=n[1];i.configureNgModel(o)},controller:n,controllerAs:"amDatePicker",bindToController:!0,replace:!0}}function n(e,t,a,n){function o(){for(var e=["allowClear","backButtonText","cancelButton","inputLabel","maxDate","minDate","maxYear","minYear","locale","inputDateFormat","popupDateFormat","showInputIcon","todayButton","calendarIcon","prevIcon","nextIcon","clearIcon"],t=0;t<e.length;t++)n.hasOwnProperty(e[t])&&(angular.isDefined(k[e[t]])||(k[e[t]]=n[e[t]]));var a=angular.isDate(k.model),o=moment();a?k.modelMoment=moment(k.model):(k.modelMoment=o,angular.isDate(k.minDate)&&o.isBefore(k.minDate)&&(k.modelMoment=moment(k.minDate)),angular.isDate(k.maxDate)&&o.isAfter(k.maxDate)&&(k.modelMoment=moment(k.maxDate))),k.modelMoment.locale(k.locale),k.modelMomentFormatted=a?k.modelMoment.format(k.inputDateFormat):void 0,k.days=[];var i=moment.localeData(k.locale);k.daysOfWeek=[i._weekdaysMin[1],i._weekdaysMin[2],i._weekdaysMin[3],i._weekdaysMin[4],i._weekdaysMin[5],i._weekdaysMin[6],i._weekdaysMin[0]],k.years=[];for(var l=k.minYear||1920,m=k.maxYear||2020,r=l;m>=r;r++)k.years.push(r);d(),x()}function i(){k.ngModelCtrl.$setViewValue(void 0),k.model=void 0,k.modelMomentFormatted=void 0,d()}function l(){["minDate","maxDate","valid"].forEach(function(e){k.ngModelCtrl.$setValidity(e,!0)},k)}function m(e){k.ngModelCtrl=e,e.$render=function(){var e=k.ngModelCtrl.$viewValue;k.model=e,o()}}function r(){function e(){M(o),a.cancel()}function t(){a.hide()}var n=this,o=k.modelMoment;n.cancel=e,n.hide=t}function c(){k.yearSelection=!0,t(function(){var e=angular.element(document.querySelector(".am-date-picker__year-selector")),t=angular.element(document.querySelector(".am-date-picker__year--is-active")),a=t[0].getElementsByTagName("p")[0].offsetHeight;e[0].scrollTop=t[0].offsetTop-e[0].offsetTop-e[0].clientHeight/2+a/2})}function d(){k.days=[],k.emptyFirstDays=[];for(var e=k.modelMoment.clone().date(0),t=k.modelMoment.clone().date(1),a=t.clone().endOf("month"),n=a.clone().date(),o=0===t.day()?6:t.day()-1;o>0;o--)k.emptyFirstDays.push({});for(var i,l=0;n>l;l++)i=e.add(1,"days").clone(),i.disabled=angular.isDate(k.minDate)&&i.isBefore(k.minDate)||angular.isDate(k.maxDate)&&i.isAfter(k.maxDate),i.selected=angular.isDefined(k.modelMoment)&&i.isSame(k.modelMoment,"day")&&!i.disabled,i.today=i.isSame(moment(),"day"),k.days.push(i);k.isTodayDisabled=angular.isDate(k.minDate)&&moment().toDate()<k.minDate||angular.isDate(k.maxDate)&&moment().toDate()>k.maxDate}function s(){k.yearSelection=!1}function u(){k.modelMoment.add(1,"month"),d(),D()}function D(){k.monthChanged=!1,k.next=!0,t(function(){k.monthChanged=!0},w)}function f(t){a.show({controller:r,controllerAs:"dialog",onRemoving:s,parent:angular.element(document.body),scope:e.$new(),targetEvent:t,templateUrl:"am-date-picker_content.tmpl.html"}).then(function(){v()})}function p(){k.next=!1,k.monthChanged=!1,t(function(){k.monthChanged=!0},w)}function g(){k.modelMoment.subtract(1,"month"),d(),p()}function y(){k.yearSelection&&k.hideYearSelection(),k.select(moment().locale(k.locale))}function M(e){e.disabled||(k.modelMoment=e,d())}function h(e){k.hideYearSelection(),M(k.modelMoment.year(e)),d()}function v(){var e=k.modelMoment;angular.isDate(k.minDate)&&e.isBefore(k.minDate)||angular.isDate(k.maxDate)&&e.isAfter(k.maxDate)||(k.model=k.modelMoment.toDate(),k.ngModelCtrl.$setViewValue(k.model),k.modelMomentFormatted=k.modelMoment.locale(k.locale).format(k.inputDateFormat),x())}function x(){var e,t=k.ngModelCtrl.$viewValue;l(),angular.isDate(t)?(e=moment(t),k.ngModelCtrl.$setValidity("minDate",e.isAfter(k.minDate,"day")||e.isSame(k.minDate,"day")),k.ngModelCtrl.$setValidity("maxDate",e.isBefore(k.maxDate,"day")||e.isSame(k.maxDate,"day"))):k.ngModelCtrl.$setValidity("valid",!1)}var k=this;k.clearDate=i,k.configureNgModel=m,k.displayYearSelection=c,k.hideYearSelection=s,k.previousMonth=g,k.nextMonth=u,k.select=M,k.selectYear=h,k.openPicker=f,k.today=y,k.model=null,k.ngModelCtrl=null,k.monthChanged=!0,k.isTodayDisabled=!1,k.yearSelection=!1;var w=110;e.$watch("amDatePicker.minDate",function(e,t){k.model&&e&&k.modelMoment.isBefore(e)&&(k.select(moment(e).locale(k.locale)),v()),d()}),e.$watch("amDatePicker.maxDate",function(e,t){k.model&&e&&k.modelMoment.isAfter(e)&&(k.select(moment(e).locale(k.locale)),v()),d()})}angular.module("am.date-picker",["ngMaterial","ngAnimate"]).directive("amDatePicker",a).provider("amDatePickerConfig",e),n.$inject=["$scope","$timeout","$mdDialog","amDatePickerConfig"]}();
angular.module("am.date-picker").run(["$templateCache",function(a){a.put("am-date-picker.html",'<div style="outline-style: none;">\n    <!-- Date picker input -->\n    <div>\n        <md-input-container ng-class="{\'md-has-icon\': amDatePicker.showInputIcon &&\n                                                      (amDatePicker.showInputIcon || amDatePicker.allowClear) }">\n            <label>{{ amDatePicker.inputLabel }}</label>\n            <div class="am-date-picker__calendar-icon" ng-if="amDatePicker.showInputIcon">\n                <md-button class="md-icon-button"\n                           ng-click="amDatePicker.openPicker($event)"\n                           aria-label="Clear">\n                   <md-icon md-svg-icon="{{ amDatePicker.calendarIcon }}" ng-if="amDatePicker.showInputIcon"></md-icon>\n                </md-button>\n            </div>\n\n            <input ng-model="amDatePicker.modelMomentFormatted"\n                   ng-click="amDatePicker.openPicker($event)"\n                   class="am-date-picker__input"\n                   type="text"\n                   readonly="readonly">\n            <div class="am-date-picker__clear-icon" ng-if="amDatePicker.allowClear">\n                <md-button class="md-icon-button"\n                           ng-click="amDatePicker.clearDate()"\n                           aria-label="Clear">\n                    <md-icon md-svg-icon="{{ amDatePicker.clearIcon }}"></md-icon>\n                </md-button>\n            </div>\n        </md-input-container>\n    </div>\n\n\n<script type="text/ng-template" id="am-date-picker_content.tmpl.html">\n    <md-dialog class="am-date-picker__container" aria-label="Datepicker Content" ng-cloak>\n    <div layout="column">\n\n        <!-- Current date -->\n        <div layout-align="center" class="am-date-picker__header-current-date">\n            <p>{{ amDatePicker.modelMoment.format(\'YYYY\') }}</p>\n            <h2>{{ amDatePicker.modelMoment.format(amDatePicker.popupDateFormat) }}</h2>\n        </div>\n\n    </div>\n\n    <!-- Date picker: content -->\n    <div ng-hide="amDatePicker.yearSelection" class="am-date-picker__content am-date-picker__animate-year-selection">\n        <div layout="row" layout-align="space-between center" class="am-date-picker__month-year">\n            <md-button ng-click="amDatePicker.previousMonth()"\n                       class="md-icon-button"\n                       aria-label="Prev Month Button">\n                <md-icon aria-label="Prev"\n                         class="am-date-picker__chevron"\n                         md-svg-icon="{{ amDatePicker.prevIcon }}"></md-icon>\n\n            </md-button>\n\n            <md-button ng-click="amDatePicker.displayYearSelection()"\n                       class="am-date-picker__month-year">\n                {{ amDatePicker.modelMoment.format(\'MMMM YYYY\') }}\n            </md-button>\n\n             <md-button ng-click="amDatePicker.nextMonth()"\n                        class="md-icon-button"\n                        aria-label="Next Month Button">\n                <md-icon aria-label="Next"\n                         class="am-date-picker__chevron"\n                         md-svg-icon="{{ amDatePicker.nextIcon }}"></md-icon>\n            </md-button>\n        </div>\n\n        <!-- Calendar -->\n        <div class="am-date-picker__calendar am-date-picker__animate-month-change"\n             ng-class="{\'next\': amDatePicker.next,\n                        \'prev\': !amDatePicker.next}"\n             ng-if="amDatePicker.monthChanged">\n\n            <!-- Weekdays -->\n            <div style="padding-left: 12px; padding-right: 20px;" layout layout-align="space-between">\n                <span ng-repeat="day in amDatePicker.daysOfWeek"\n                      class="am-date-picker__weekdays">\n                    {{ day }}\n                </span>\n            </div>\n\n            <!-- Days -->\n            <span ng-repeat="x in amDatePicker.emptyFirstDays"\n                  class="am-date-picker__days">&nbsp;</span>\n\n            <div class="am-date-picker__days am-date-picker__day"\n                 ng-class="{ \'am-date-picker__day--is-selected\': day.selected,\n                             \'am-date-picker__day--is-today\': day.today && !day.selected,\n                             \'am-date-picker__day--is-disabled\': day.disabled }"\n                 ng-repeat="day in amDatePicker.days">\n                <a ng-click="amDatePicker.select(day)">{{ day ? day.format(\'D\') : \'\' }}</a>\n            </div>\n\n        </div>\n    </div>\n\n    <!-- Year selection -->\n    <div class="am-date-picker__year-selector am-date-picker__animate-year-selection"\n         ng-show="amDatePicker.yearSelection">\n        <a class="am-date-picker__year"\n           ng-repeat="year in amDatePicker.years"\n           ng-class="{ \'am-date-picker__year--is-active\':\n                        year == amDatePicker.modelMoment.format(\'YYYY\') }"\n           ng-click="amDatePicker.selectYear(year)">\n            <p>{{ year }}</p>\n        </a>\n    </div>\n\n    <!--Actions-->\n    <md-dialog-actions layout="row" class="am-date-picker__actions">\n        <md-button ng-click="amDatePicker.today()"\n                   ng-disabled="amDatePicker.isTodayDisabled"\n                   ng-if="amDatePicker.todayButton">\n            {{ amDatePicker.todayButton }}\n        </md-button>\n        <span flex></span>\n        <div ng-if="!amDatePicker.yearSelection">\n            <md-button ng-click="dialog.cancel()"\n                       ng-if="amDatePicker.cancelButton">\n                {{ amDatePicker.cancelButton }}\n            </md-button>\n            <md-button ng-click="dialog.hide()">OK</md-button>\n        </div>\n        <md-button ng-click="amDatePicker.hideYearSelection()"\n                   ng-if="amDatePicker.yearSelection">{{ amDatePicker.backButtonText }}</md-button>\n    </md-dialog-actions>\n    </md-dialog>\n</script>\n\n</div>\n')}]);
//# sourceMappingURL=am-date-picker.min.js.map
