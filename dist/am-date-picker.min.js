!function(){"use strict";function e(){var e=this;e.allowClear=!0,e.cancelButtonText="Cancel",e.inputDateFormat="LL",e.maxYear=2020,e.minYear=1920,e.locale="en",e.popupDateFormat="ddd, MMM D",e.showInputIcon=!1,e.calendarIcon="/dist/images/icons/ic_today_24px.svg",e.clearIcon="/dist/images/icons/ic_close_24px.svg",e.nextIcon="/dist/images/icons/ic_chevron_right_18px.svg",e.prevIcon="/dist/images/icons/ic_chevron_left_18px.svg",e.setIcons=function(a){for(var t in a)e[t]=a[t]},e.setOptions=function(a){for(var t in a)e[t]=a[t]},this.$get=function(){return e}}function a(){return{restrict:"AE",templateUrl:"am-date-picker.html",scope:{ngModel:"=",allowClear:"=?amAllowClear",inputDateFormat:"@?amInputDateFormat",inputLabel:"@?amInputLabel",maxDate:"=?amMaxDate",minDate:"=?amMinDate",maxYear:"=?amMaxYear",minYear:"=?amMinYear",popupDateFormat:"@?amPopupDateFormat",showInputIcon:"=?amShowInputIcon",todayButton:"@?amTodayButton"},controller:t,controllerAs:"amDatePicker",bindToController:!0,replace:!0}}function t(e,a,t,n){function o(){for(var e=["ngModel","allowClear","cancelButtonText","showInputIcon","inputLabel","maxDate","minDate","maxYear","minYear","locale","inputDateFormat","popupDateFormat","todayButton","calendarIcon","prevIcon","nextIcon","clearIcon"],a=0;a<e.length;a++)n.hasOwnProperty(e[a])&&(angular.isDefined(D[e[a]])||(D[e[a]]=n[e[a]]));D.moment.locale(D.locale),D.ngModelMoment=angular.isDefined(D.ngModel)?moment(angular.copy(D.ngModel)):moment(),D.ngModelMomentFormatted=angular.isDefined(D.ngModel)?moment(D.ngModel).format(D.inputDateFormat):void 0,D.days=[],D.daysOfWeek=[moment.weekdaysMin(1),moment.weekdaysMin(2),moment.weekdaysMin(3),moment.weekdaysMin(4),moment.weekdaysMin(5),moment.weekdaysMin(6),moment.weekdaysMin(0)],D.years=[];for(var t=D.minYear||1920,o=D.maxYear||2020,i=t;o>=i;i++)D.years.push(i);r()}function i(){D.ngModel=void 0,D.ngModelMomentFormatted=void 0,r()}function m(){function e(){n.model?D.select(n.modelMoment):D.clearDate(),t.cancel()}function a(){t.hide()}var n=this;n.model=angular.copy(D.ngModel),n.modelMoment=angular.copy(D.ngModelMoment),n.cancel=e,n.hide=a}function l(){D.yearSelection=!0,a(function(){var e=angular.element(document.querySelector(".am-date-picker__year-selector")),a=angular.element(document.querySelector(".am-date-picker__year--is-active")),t=a[0].getElementsByTagName("p")[0].offsetHeight;e[0].scrollTop=a[0].offsetTop-e[0].offsetTop-e[0].clientHeight/2+t/2})}function r(){D.days=[],D.emptyFirstDays=[];for(var e=angular.copy(D.ngModelMoment).date(0),a=angular.copy(D.ngModelMoment).date(1),t=angular.copy(a).endOf("month"),n=angular.copy(t).date(),o=0===a.day()?6:a.day()-1;o>0;o--)D.emptyFirstDays.push({});for(var i=0;n>i;i++){var m=angular.copy(e.add(1,"days"));m.selected=angular.isDefined(D.ngModel)&&m.isSame(D.ngModel,"day"),m.today=m.isSame(moment(),"day"),angular.isDefined(D.minDate)&&m.toDate()<D.minDate&&(m.disabled=!0),angular.isDefined(D.maxDate)&&m.toDate()>D.maxDate&&(m.disabled=!0),D.days.push(m)}D.isTodayDisabled=angular.isDefined(D.minDate)&&moment().toDate()<D.minDate||angular.isDefined(D.maxDate)&&moment().toDate()>D.maxDate}function c(){D.yearSelection=!1}function d(){D.ngModelMoment=D.ngModelMoment.add(1,"month"),r()}function s(a){t.show({clickOutsideToClose:!0,controller:m,controllerAs:"dialog",onRemoving:c,parent:angular.element(document.body),scope:e.$new(),targetEvent:a,templateUrl:"am-date-picker_content.tmpl.html"})}function u(){D.ngModelMoment=D.ngModelMoment.subtract(1,"month"),r()}function g(){var e=moment();D.ngModel=e.toDate(),D.ngModelMoment=angular.copy(e),D.ngModelMomentFormatted=e.format(D.inputDateFormat),D.yearSelection&&D.hideYearSelection(),r()}function p(e){e.disabled||(D.ngModel=e.toDate(),D.ngModelMoment=angular.copy(e),D.ngModelMomentFormatted=e.format(D.inputDateFormat),r())}function M(e){D.yearSelection=!1,D.ngModelMoment=D.ngModelMoment.year(e),r()}var D=this;D.clearDate=i,D.displayYearSelection=l,D.hideYearSelection=c,D.previousMonth=u,D.nextMonth=d,D.select=p,D.selectYear=M,D.openPicker=s,D.today=g,D.moment=moment,D.isTodayDisabled=!1,D.yearSelection=!1,o(),e.$watch("amDatePicker.minDate",function(e,a){e>D.ngModel&&D.select(moment(e)),r()}),e.$watch("amDatePicker.maxDate",function(e,a){e<D.ngModel&&D.select(moment(e)),r()})}angular.module("am.date-picker",["ngMaterial"]).directive("amDatePicker",a).provider("amDatePickerConfig",e),t.$inject=["$scope","$timeout","$mdDialog","amDatePickerConfig"]}();
angular.module("am.date-picker").run(["$templateCache",function(a){a.put("am-date-picker.html",'<div style="outline-style: none;">\n    <!-- Date picker input -->\n    <div>\n        <md-input-container class="md-icon-float md-icon-right">\n            <label>{{ amDatePicker.inputLabel }}</label>\n            <md-icon ng-show="amDatePicker.showInputIcon"\n                     md-svg-icon="{{ amDatePicker.calendarIcon }}"\n                     class="am-date-picker__calendar-icon"></md-icon>\n            <input ng-model="amDatePicker.ngModelMomentFormatted"\n                   ng-click="amDatePicker.openPicker($event)"\n                   class="am-date-picker__input"\n                   type="text"\n                   readonly="readonly">\n            <md-icon ng-show="amDatePicker.allowClear"\n                     ng-click="amDatePicker.clearDate()"\n                     md-svg-icon="{{ amDatePicker.clearIcon }}"\n                     class="am-date-picker__clear-icon"></md-icon>\n        </md-input-container>\n    </div>\n\n\n<script type="text/ng-template" id="am-date-picker_content.tmpl.html">\n    <md-dialog class="am-date-picker__container" aria-label="Datepicker Content" ng-cloak>\n    <div layout="column">\n\n        <!-- Current date -->\n        <div layout-align="center" class="am-date-picker__header-current-date">\n            <p>{{ amDatePicker.moment(amDatePicker.ngModel).format(\'YYYY\') }}</p>\n            <h2>{{ amDatePicker.moment(amDatePicker.ngModel).format(amDatePicker.popupDateFormat) }}</h2>\n        </div>\n\n    </div>\n\n    <!-- Date picker: content -->\n    <div layout="row" layout-align="space-between center" class="am-date-picker__month-year"\n         ng-if="!amDatePicker.yearSelection">\n        <md-button ng-click="amDatePicker.previousMonth()"\n                   class="md-icon-button">\n            <md-icon aria-label="Prev"\n                     class="am-date-picker__chevron"\n                     md-svg-icon="{{ amDatePicker.prevIcon }}"></md-icon>\n\n        </md-button>\n\n        <md-button ng-click="amDatePicker.displayYearSelection()"\n                   class="am-date-picker__month-year">\n            {{ amDatePicker.ngModelMoment.format(\'MMMM YYYY\') }}\n        </md-button>\n\n         <md-button ng-click="amDatePicker.nextMonth()"\n                    class="md-icon-button">\n            <md-icon aria-label="Next"\n                     class="am-date-picker__chevron"\n                     md-svg-icon="{{ amDatePicker.nextIcon }}"></md-icon>\n        </md-button>\n    </div>\n\n    <!-- Calendar -->\n    <div class="am-date-picker__content" ng-if="!amDatePicker.yearSelection">\n\n        <!-- Weekdays -->\n        <div style="padding-left: 12px; padding-right: 20px;" layout layout-align="space-between">\n            <span ng-repeat="day in amDatePicker.daysOfWeek"\n                  class="am-date-picker__weekdays">\n                {{ day }}\n            </span>\n        </div>\n\n        <!-- Days -->\n        <span ng-repeat="x in amDatePicker.emptyFirstDays"\n              class="am-date-picker__days">&nbsp;</span>\n\n        <div class="am-date-picker__days am-date-picker__day"\n             ng-class="{ \'am-date-picker__day--is-selected\': day.selected,\n                         \'am-date-picker__day--is-today\': day.today && !day.selected,\n                         \'am-date-picker__day--is-disabled\': day.disabled }"\n             ng-repeat="day in amDatePicker.days">\n            <a ng-click="amDatePicker.select(day)">{{ day ? day.format(\'D\') : \'\' }}</a>\n        </div>\n\n    </div>\n\n    <!-- Year selection -->\n    <div class="am-date-picker__year-selector"\n         ng-if="amDatePicker.yearSelection">\n        <a class="am-date-picker__year"\n           ng-class="{ \'am-date-picker__year--is-active\':\n                        year == amDatePicker.moment(amDatePicker.ngModel).format(\'YYYY\') }"\n           ng-repeat="year in amDatePicker.years"\n           ng-click="amDatePicker.selectYear(year)">\n            <p>{{ year }}</p>\n        </a>\n    </div>\n\n    <!--Actions-->\n    <md-dialog-actions layout="row" class="md-actions am-date-picker__actions">\n        <md-button ng-click="amDatePicker.today()"\n                   ng-disabled="amDatePicker.isTodayDisabled"\n                   ng-if="amDatePicker.todayButton">{{ amDatePicker.todayButton }}</md-button>\n        <span flex></span>\n        <md-button ng-click="dialog.cancel()">{{ amDatePicker.cancelButtonText }}</md-button>\n        <md-button ng-click="dialog.hide()">OK</md-button>\n    </md-dialog-actions>\n    </md-dialog>\n</script>\n\n</div>\n')}]);