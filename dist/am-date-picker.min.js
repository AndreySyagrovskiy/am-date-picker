!function(){"use strict";function e(){var e=this;e.allowClear=!0,e.backButtonText="Back",e.inputDateFormat="LL",e.maxYear=2020,e.minYear=1920,e.locale="en",e.popupDateFormat="ddd, MMM D",e.showInputIcon=!1,e.calendarIcon="/dist/images/icons/ic_today_24px.svg",e.clearIcon="/dist/images/icons/ic_close_24px.svg",e.nextIcon="/dist/images/icons/ic_chevron_right_18px.svg",e.prevIcon="/dist/images/icons/ic_chevron_left_18px.svg",e.setIcons=function(n){for(var t in n)e[t]=n[t]},e.setOptions=function(n){for(var t in n)e[t]=n[t]},this.$get=function(t,a){return new n(e,t,a)},this.$get.$inject=["$mdDialog","$q"]}function n(e,n,t){function a(e,n,t){Object.defineProperty(e,n,{__proto__:null,get:function(){return t}})}var o=["allowClear","backButtonText","cancelButton","showInputIcon","inputLabel","maxDate","minDate","maxYear","minYear","locale","inputDateFormat","popupDateFormat","todayButton","calendarIcon","prevIcon","nextIcon","clearIcon"];for(var i in o)a(this,o[i],e[o[i]])}function t(){return{restrict:"AE",templateUrl:"am-date-picker.html",scope:{ngModel:"=",allowClear:"=?amAllowClear",cancelButton:"@?amCancelButton",inputDateFormat:"@?amInputDateFormat",inputLabel:"@?amInputLabel",maxDate:"=?amMaxDate",minDate:"=?amMinDate",maxYear:"=?amMaxYear",minYear:"=?amMinYear",popupDateFormat:"@?amPopupDateFormat",showInputIcon:"=?amShowInputIcon",todayButton:"@?amTodayButton"},controller:a,controllerAs:"amDatePicker",bindToController:!0,replace:!0}}function a(e,n,t,a){function o(){for(var e=["ngModel","allowClear","backButtonText","cancelButton","showInputIcon","inputLabel","maxDate","minDate","maxYear","minYear","locale","inputDateFormat","popupDateFormat","todayButton","calendarIcon","prevIcon","nextIcon","clearIcon"],n=0;n<e.length;n++)a.hasOwnProperty(e[n])&&(angular.isDefined(y[e[n]])||(y[e[n]]=a[e[n]]));y.moment.locale(y.locale),y.ngModelMoment=angular.isDefined(y.ngModel)?moment(angular.copy(y.ngModel)):moment(),y.ngModelMomentFormatted=angular.isDefined(y.ngModel)?moment(y.ngModel).format(y.inputDateFormat):void 0,y.days=[],y.daysOfWeek=[moment.weekdaysMin(1),moment.weekdaysMin(2),moment.weekdaysMin(3),moment.weekdaysMin(4),moment.weekdaysMin(5),moment.weekdaysMin(6),moment.weekdaysMin(0)],y.years=[];for(var t=y.minYear||1920,o=y.maxYear||2020,i=t;o>=i;i++)y.years.push(i);c()}function i(){y.ngModel=void 0,y.ngModelMomentFormatted=void 0,c()}function r(){function e(){a.model?y.select(a.modelMoment):y.clearDate(),t.cancel()}function n(){t.hide()}var a=this;a.model=angular.copy(y.ngModel),a.modelMoment=angular.copy(y.ngModelMoment),a.cancel=e,a.hide=n}function l(){y.yearSelection=!0,n(function(){var e=angular.element(document.querySelector(".am-date-picker__year-selector")),n=angular.element(document.querySelector(".am-date-picker__year--is-active")),t=n[0].getElementsByTagName("p")[0].offsetHeight;e[0].scrollTop=n[0].offsetTop-e[0].offsetTop-e[0].clientHeight/2+t/2})}function c(){y.days=[],y.emptyFirstDays=[];for(var e=angular.copy(y.ngModelMoment).date(0),n=angular.copy(y.ngModelMoment).date(1),t=angular.copy(n).endOf("month"),a=angular.copy(t).date(),o=0===n.day()?6:n.day()-1;o>0;o--)y.emptyFirstDays.push({});for(var i=0;a>i;i++){var r=angular.copy(e.add(1,"days"));r.selected=angular.isDefined(y.ngModel)&&r.isSame(y.ngModel,"day"),r.today=r.isSame(moment(),"day"),angular.isDefined(y.minDate)&&r.toDate()<y.minDate&&(r.disabled=!0),angular.isDefined(y.maxDate)&&r.toDate()>y.maxDate&&(r.disabled=!0),y.days.push(r)}y.isTodayDisabled=angular.isDefined(y.minDate)&&moment().toDate()<y.minDate||angular.isDefined(y.maxDate)&&moment().toDate()>y.maxDate}function m(){y.yearSelection=!1}function d(){y.ngModelMoment=y.ngModelMoment.add(1,"month"),c(),u()}function u(){y.change=!1,y.next=!0,n(function(){y.change=!0},h)}function s(n){t.show({clickOutsideToClose:!0,controller:r,controllerAs:"dialog",onRemoving:m,parent:angular.element(document.body),scope:e.$new(),targetEvent:n,templateUrl:"am-date-picker_content.tmpl.html"})}function g(){y.next=!1,y.change=!1,n(function(){y.change=!0},h)}function p(){y.ngModelMoment=y.ngModelMoment.subtract(1,"month"),c(),g()}function M(){var e=moment();y.ngModel=e.toDate(),y.ngModelMoment=angular.copy(e),y.ngModelMomentFormatted=e.format(y.inputDateFormat),y.yearSelection&&y.hideYearSelection(),c()}function f(e){e.disabled||(y.ngModel=e.toDate(),y.ngModelMoment=angular.copy(e),y.ngModelMomentFormatted=e.format(y.inputDateFormat),c())}function D(e){y.hideYearSelection(),y.ngModelMoment=y.ngModelMoment.year(e),c()}var y=this;y.clearDate=i,y.displayYearSelection=l,y.hideYearSelection=m,y.previousMonth=p,y.nextMonth=d,y.select=f,y.selectYear=D,y.openPicker=s,y.today=M,y.moment=moment,y.isTodayDisabled=!1,y.yearSelection=!1,y.change=!0;var h=110;o(),e.$watch("amDatePicker.minDate",function(e,n){e>y.ngModel&&y.select(moment(e)),c()}),e.$watch("amDatePicker.maxDate",function(e,n){e<y.ngModel&&y.select(moment(e)),c()})}angular.module("am.date-picker",["ngMaterial","ngAnimate"]).directive("amDatePicker",t).provider("amDatePickerConfig",e),a.$inject=["$scope","$timeout","$mdDialog","amDatePickerConfig"]}();
angular.module("am.date-picker").run(["$templateCache",function(a){a.put("am-date-picker.html",'<div style="outline-style: none;">\r\n    <!-- Date picker input -->\r\n    <div>\r\n        <md-input-container class="md-icon-float md-icon-right">\r\n            <label>{{ amDatePicker.inputLabel }}</label>\r\n            <md-icon ng-show="amDatePicker.showInputIcon"\r\n                     md-svg-icon="{{ amDatePicker.calendarIcon }}"\r\n                     class="am-date-picker__calendar-icon"></md-icon>\r\n            <input ng-model="amDatePicker.ngModelMomentFormatted"\r\n                   ng-click="amDatePicker.openPicker($event)"\r\n                   class="am-date-picker__input"\r\n                   type="text"\r\n                   readonly="readonly">\r\n            <md-icon ng-show="amDatePicker.allowClear"\r\n                     ng-click="amDatePicker.clearDate()"\r\n                     md-svg-icon="{{ amDatePicker.clearIcon }}"\r\n                     class="am-date-picker__clear-icon"></md-icon>\r\n        </md-input-container>\r\n    </div>\r\n\r\n\r\n<script type="text/ng-template" id="am-date-picker_content.tmpl.html">\r\n    <md-dialog class="am-date-picker__container" aria-label="Datepicker Content" ng-cloak>\r\n    <div layout="column">\r\n\r\n        <!-- Current date -->\r\n        <div layout-align="center" class="am-date-picker__header-current-date">\r\n            <p>{{ amDatePicker.moment(amDatePicker.ngModel).format(\'YYYY\') }}</p>\r\n            <h2>{{ amDatePicker.moment(amDatePicker.ngModel).format(amDatePicker.popupDateFormat) }}</h2>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <!-- Date picker: content -->\r\n    <div ng-hide="amDatePicker.yearSelection" class="am-date-picker__content am-date-picker__animate-year-selection">\r\n        <div layout="row" layout-align="space-between center" class="am-date-picker__month-year">\r\n            <md-button ng-click="amDatePicker.previousMonth()"\r\n                       class="md-icon-button">\r\n                <md-icon aria-label="Prev"\r\n                         class="am-date-picker__chevron"\r\n                         md-svg-icon="{{ amDatePicker.prevIcon }}"></md-icon>\r\n\r\n            </md-button>\r\n\r\n            <md-button ng-click="amDatePicker.displayYearSelection()"\r\n                       class="am-date-picker__month-year">\r\n                {{ amDatePicker.ngModelMoment.format(\'MMMM YYYY\') }}\r\n            </md-button>\r\n\r\n             <md-button ng-click="amDatePicker.nextMonth()"\r\n                        class="md-icon-button">\r\n                <md-icon aria-label="Next"\r\n                         class="am-date-picker__chevron"\r\n                         md-svg-icon="{{ amDatePicker.nextIcon }}"></md-icon>\r\n            </md-button>\r\n        </div>\r\n\r\n        <!-- Calendar -->\r\n        <div class="am-date-picker__calendar am-date-picker__animate-month-change"\r\n             ng-class="{\'next\': amDatePicker.next,\r\n                        \'prev\': !amDatePicker.next}"\r\n             ng-if="amDatePicker.change">\r\n\r\n            <!-- Weekdays -->\r\n            <div style="padding-left: 12px; padding-right: 20px;" layout layout-align="space-between">\r\n                <span ng-repeat="day in amDatePicker.daysOfWeek"\r\n                      class="am-date-picker__weekdays">\r\n                    {{ day }}\r\n                </span>\r\n            </div>\r\n\r\n            <!-- Days -->\r\n            <span ng-repeat="x in amDatePicker.emptyFirstDays"\r\n                  class="am-date-picker__days">&nbsp;</span>\r\n\r\n            <div class="am-date-picker__days am-date-picker__day"\r\n                 ng-class="{ \'am-date-picker__day--is-selected\': day.selected,\r\n                             \'am-date-picker__day--is-today\': day.today && !day.selected,\r\n                             \'am-date-picker__day--is-disabled\': day.disabled }"\r\n                 ng-repeat="day in amDatePicker.days">\r\n                <a ng-click="amDatePicker.select(day)">{{ day ? day.format(\'D\') : \'\' }}</a>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Year selection -->\r\n    <div class="am-date-picker__year-selector am-date-picker__animate-year-selection"\r\n         ng-show="amDatePicker.yearSelection">\r\n        <a class="am-date-picker__year"\r\n           ng-repeat="year in amDatePicker.years"\r\n           ng-class="{ \'am-date-picker__year--is-active\':\r\n                        year == amDatePicker.moment(amDatePicker.ngModel).format(\'YYYY\') }"\r\n           ng-click="amDatePicker.selectYear(year)">\r\n            <p>{{ year }}</p>\r\n        </a>\r\n    </div>\r\n\r\n    <!--Actions-->\r\n    <md-dialog-actions layout="row" class="md-actions am-date-picker__actions">\r\n        <md-button ng-click="amDatePicker.today()"\r\n                   ng-disabled="amDatePicker.isTodayDisabled"\r\n                   ng-if="amDatePicker.todayButton">\r\n            {{ amDatePicker.todayButton }}\r\n        </md-button>\r\n        <span flex></span>\r\n        <div ng-if="!amDatePicker.yearSelection">\r\n            <md-button ng-click="dialog.cancel()"\r\n                       ng-if="amDatePicker.cancelButton">\r\n                {{ amDatePicker.cancelButton }}\r\n            </md-button>\r\n            <md-button ng-click="dialog.hide()">OK</md-button>\r\n        </div>\r\n        <md-button ng-click="amDatePicker.hideYearSelection()"\r\n                   ng-if="amDatePicker.yearSelection">{{ amDatePicker.backButtonText }}</md-button>\r\n    </md-dialog-actions>\r\n    </md-dialog>\r\n</script>\r\n\r\n</div>\r\n')}]);
//# sourceMappingURL=am-date-picker.min.js.map
